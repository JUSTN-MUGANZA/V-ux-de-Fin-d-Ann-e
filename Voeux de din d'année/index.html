<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cartes de V≈ìux 2025-2026</title>

    <!-- Polices modernes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ========================
           DESIGN SYSTEM
           ======================== */
      :root {
        --glass-bg: rgba(255, 255, 255, 0.9);
        --shadow-soft: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        --font-main: "Montserrat", sans-serif;
        --font-title: "Playfair Display", serif;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-main);
        background: linear-gradient(-45deg, #1a2a6c, #b21f1f, #fdbb2d);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        color: #1f2937;
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Conteneur Principal */
      .app-container {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 24px;
        padding: 40px;
        width: 100%;
        max-width: 800px;
        box-shadow: var(--shadow-soft);
        display: flex;
        flex-direction: column;
        gap: 25px;
        align-items: center;
      }

      header h1 {
        font-size: 2rem;
        font-weight: 800;
        text-align: center;
        background: -webkit-linear-gradient(45deg, #b21f1f, #d4af37);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      /* Contr√¥les */
      .controls-area {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
      }

      .btn-theme {
        padding: 12px 25px;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        background: white;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 1rem;
      }

      .btn-theme:hover {
        transform: translateY(-3px);
      }

      .active-christmas {
        background: #c0392b;
        color: white;
      }
      .active-newyear {
        background: #2c3e50;
        color: white;
      }

      .file-upload-label {
        display: inline-block;
        padding: 12px 25px;
        background: #4f46e5;
        color: white;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
        transition: background 0.3s;
      }
      .file-upload-label:hover {
        background: #4338ca;
      }
      input[type="file"] {
        display: none;
      }

      /* ========================
           LA CARTE (PREVIEW)
           ======================== */
      .preview-area {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #cardContainer {
        width: 100%;
        max-width: 450px;
        position: relative;
        border-radius: 20px;
        overflow: hidden;
        display: none; /* Cach√© jusqu'√† upload */
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 40px 20px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
      }

      /* Styles Th√®mes */
      .theme-christmas {
        background: linear-gradient(180deg, #16a085 0%, #27ae60 100%);
        border: 8px solid #c0392b;
      }
      .theme-newyear {
        background: radial-gradient(circle at center, #000000, #1a2a6c);
      }

      .card-title {
        font-family: var(--font-title);
        font-size: 3rem;
        color: white;
        text-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        margin-bottom: 20px;
        z-index: 10;
        line-height: 1.1;
      }

      /* --- CADRE PHOTO GRAND FORMAT (AUTOMATIQUE) --- */
      .photo-wrapper {
        width: 320px;
        height: 320px;
        border-radius: 15px;
        border: 6px solid;
        overflow: hidden;
        z-index: 10;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        background: #fff;
        position: relative;
      }

      .photo-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Centre et remplit automatiquement le cadre */
        display: block;
      }

      .card-footer-text {
        margin-top: 25px;
        color: white;
        font-size: 1.3rem;
        font-weight: 600;
        z-index: 10;
        font-family: var(--font-title);
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
      }

      /* Animation */
      .animation-layer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: 1;
      }
      .anim-item {
        position: absolute;
        animation: floatDown linear infinite;
      }
      @keyframes floatDown {
        to {
          transform: translateY(600px) rotate(360deg);
          opacity: 0;
        }
      }

      /* Footer Global */
      .footer-container {
        margin-top: 30px;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        padding-top: 20px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }

      .social-links {
        display: flex;
        gap: 20px;
        justify-content: center;
      }

      .social-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      .social-icon svg {
        width: 22px;
        height: 22px;
        fill: #444;
      }
      .social-icon:hover {
        transform: translateY(-3px);
      }
      .social-icon.linkedin:hover svg {
        fill: #0077b5;
      }
      .social-icon.x:hover svg {
        fill: #000;
      }
      .social-icon.facebook:hover svg {
        fill: #1877f2;
      }

      .copyright {
        font-size: 0.8rem;
        color: #666;
        font-weight: 500;
        text-align: center;
      }

      /* Mobile */
      @media (max-width: 500px) {
        .card-title {
          font-size: 2.2rem;
        }
        .photo-wrapper {
          width: 260px;
          height: 260px;
        }
        .app-container {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <main class="app-container">
      <header>
        <h1>‚ú® V≈ìux de Fin d'Ann√©e</h1>
      </header>

      <!-- Contr√¥les -->
      <div class="controls-area">
        <button class="btn-theme" onclick="updateTheme('christmas')">
          üéÑ No√´l
        </button>
        <button class="btn-theme" onclick="updateTheme('newyear')">
          üéâ Bonne Ann√©e
        </button>

        <label for="photoInput" class="file-upload-label">
          üì∑ Ajouter ma photo
        </label>
        <input
          type="file"
          id="photoInput"
          accept="image/*"
          onchange="loadFile(event)"
        />
      </div>

      <!-- Zone Carte -->
      <div class="preview-area">
        <div id="cardContainer">
          <div id="animLayer" class="animation-layer"></div>

          <h2 id="cardTitle" class="card-title">Joyeux No√´l</h2>

          <div class="photo-wrapper">
            <img id="userPhoto" src="" alt="" />
          </div>

          <p id="cardFooter" class="card-footer-text">Meilleurs V≈ìux !</p>
        </div>

        <div style="margin-top: 20px">
          <a
            href="https://lubunga-portfolio.netlify.app/"
            style="color: #666; text-decoration: none; font-size: 0.9rem"
          >
            üìÅ Visiter le portfolio du cr√©ateur
          </a>
        </div>
      </div>

      <!-- Footer Global -->
      <footer class="footer-container">
        <div class="social-links">
          <a
            href="https://www.linkedin.com/in/justin-muganza-35a0182b0?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"
            target="_blank"
            class="social-icon linkedin"
            ><svg viewBox="0 0 24 24">
              <path
                d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
              /></svg
          ></a>
          <a
            href="https://x.com/JustinMuganzaL"
            target="_blank"
            class="social-icon x"
            ><svg viewBox="0 0 24 24">
              <path
                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
              /></svg
          ></a>
          <a
            href="https://www.facebook.com/justinlubungamuganza.muganza"
            target="_blank"
            class="social-icon facebook"
            ><svg viewBox="0 0 24 24">
              <path
                d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"
              /></svg
          ></a>
        </div>
        <div class="copyright">
          ¬© V≈ìux de fin d'ann√©e - Tous droits r√©serv√©s
        </div>
      </footer>
    </main>

    <script>
      // --- CONFIGURATION ---
      const themes = {
        christmas: {
          title: "Joyeux No√´l",
          footer: "Ho Ho Ho ! Joyeuses f√™tes üéÖ",
          cssClass: "theme-christmas",
          emojis: ["‚ùÑÔ∏è", "ü¶å", "üéÑ", "üîî", "‚õÑ"],
          photoBorder: "#f1c40f",
        },
        newyear: {
          title: "Bonne Ann√©e 2026",
          footer: "Sant√©, Succ√®s et Prosp√©rit√© ü•Ç",
          cssClass: "theme-newyear",
          emojis: ["üéÜ", "ü•Ç", "üåü", "üéâ", "üéá"],
          photoBorder: "#fff",
        },
      };

      let currentTheme = "christmas";
      let animationInterval;

      // --- 1. CHARGEMENT ET INIT ---
      function loadFile(event) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            const img = document.getElementById("userPhoto");
            img.src = e.target.result;

            // Afficher l'interface
            document.getElementById("cardContainer").style.display = "flex";
            updateTheme(currentTheme);
          };
          reader.readAsDataURL(file);
        }
      }

      // --- 2. THEMES & ANIMATIONS ---
      function updateTheme(themeKey) {
        currentTheme = themeKey;
        const data = themes[themeKey];
        const card = document.getElementById("cardContainer");
        const photoWrap = document.querySelector(".photo-wrapper");
        const btns = document.querySelectorAll(".btn-theme");

        card.className = "";
        card.classList.add(data.cssClass);

        document.getElementById("cardTitle").textContent = data.title;
        document.getElementById("cardFooter").textContent = data.footer;
        photoWrap.style.borderColor = data.photoBorder;

        btns.forEach((btn) => {
          btn.classList.remove("active-christmas", "active-newyear");
          if (themeKey === "christmas" && btn.innerText.includes("No√´l"))
            btn.classList.add("active-christmas");
          if (themeKey === "newyear" && btn.innerText.includes("Ann√©e"))
            btn.classList.add("active-newyear");
        });

        startAnimation(data.emojis);
      }

      function startAnimation(emojiList) {
        const container = document.getElementById("animLayer");
        if (animationInterval) clearInterval(animationInterval);
        container.innerHTML = "";

        animationInterval = setInterval(() => {
          const el = document.createElement("div");
          el.classList.add("anim-item");
          el.innerText =
            emojiList[Math.floor(Math.random() * emojiList.length)];
          el.style.left = Math.random() * 100 + "%";
          el.style.fontSize = Math.random() * 1.5 + 1 + "rem";
          el.style.animationDuration = Math.random() * 3 + 2 + "s";
          container.appendChild(el);
          setTimeout(() => el.remove(), 5000);
        }, 400);
      }
    </script>
  </body>
</html>
